# toytcp

Rust で作る簡易 TCP プロトコル。

通常の TCP プロトコルのヘッダフォーマットは以下の通り。

```
******************* TCP Header format ************************
0                   1                   2                   3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 (bits)
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
| source port                  | destination port             |
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
| sequence number                                             |
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
| acknowledgment number                                       |
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
| data | resurved  |U|A|P|R|S|F| window                       |
|offset|           |R|C|S|S|Y|I|                              |
|      |           |G|K|H|T|N|N|                              |
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
| checksum                     | urgent pointer               |
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
| options                                        | padding    |
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
| data                                                        |
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
```

今回作成する toytcp では簡単のため以下のようなフォーマットとする。

```
***************** toytcp Header format ************************
0                   1                   2                   3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 (bits)
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
| source port                  | destination port             |
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
| sequence number                                             |
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
| acknowledgment number                                       |
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
| data offset   |flag          | window                       |
|               |U|A|P|R|S|F   |                              |
|               |R|C|S|S|Y|I   |                              |
|               |G|K|H|T|N|N   |                              |
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
| checksum                     |                              |
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
| data...                                                     |
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
```
